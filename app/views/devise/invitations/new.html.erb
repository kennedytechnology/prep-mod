<% if current_user.can_create_user? %>
  <h1 class="main-title"><%= t "devise.invitations.new.header" %></h1>

  <%= form_for(resource, as: resource_name, url: invitation_path(resource_name), html: { method: :post, class: "mb-8" }) do |f| %>
      <%= render "devise/shared/error_messages", resource: resource %>

      <%# resource.class.invite_key_fields.each do |field| -%>
          <div class="field-side-by-side">
              <div>
                  <%= f.label :first_name, class: "block" do %>
                      <span> First Name </span>
                      <span class="field-required">*</span>
                  <% end %>
                  <%= f.text_field :first_name, class: "form-input w-full", required: true %>

                  <%= f.label :last_name, class: "block" do %>
                      <span> Last Name </span>
                      <span class="field-required">*</span>
                  <% end %>
                  <%= f.text_field :last_name, class: "form-input w-full", required: true %>

                  <%= f.label :email, class: "block" do %>
                      <span> Email </span>
                      <span class="field-required">*</span>
                  <% end %>
                  <%= f.email_field :email, class: "form-input w-full", required: true %>

                  <%= f.label :email_confirmation, class: "block" do %>
                      <span> Email Confirmation</span>
                      <span class="field-required">*</span>
                  <% end %>
                  <%= f.email_field :email_confirmation, class: "form-input w-full", required: true %>

                  <%= f.label :county, class: "block" do %>
                      <span> County </span>
                      <span class="field-required">*</span>
                  <% end %>
                  <%= f.select :county, COUNTIES, {prompt: "Select"}, {class: "form-select w-full", required: true} %>

                  <%= f.label :venues, class: "block" do %>
                    <span> Venue </span>
                    <span class="field-required">*</span>
                <% end %>
                <%= f.select :venues, VENUE_TYPES, {include_blank: "None"}, {class: "form-select w-full"} %>


                  <%= f.label :role, class: "block" do %>
                      <span> Role </span>
                      <span class="field-required">*</span>
                  <% end %>
                  <%= f.select :role, current_user.assignable_roles.reject{|role| role == ["Super Admin", "super_admin"]}, {prompt: "Select"}, {class: "form-select w-full", required: true} %>
              </div>
              <div></div>
          </div>
      <%# end -%>

      <div class="actions">
          <%= f.submit t("devise.invitations.new.submit_button"), class: "button-primary" %>
      </div>
  <% end %>
<% else %>
  <% raise CanCan::AccessDenied %>
<% end %>
