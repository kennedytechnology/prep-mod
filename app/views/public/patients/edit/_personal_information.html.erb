<div class="flex mb-4">
  <div class="w-1/2 mr-4">
    <div class="form-question">County</div>
    <%= f.select :county, options_for_select(COUNTIES, @patient.county),{}, class: "w-full form-select block rounded m-1" %>
  </div>
  <div class="w-1/2"></div>
</div>

<div class="flex mb-4">
  <div class="w-1/2 flex">

    <label class="w-9/12 mr-2">
      <div class="form-question">First Name</div>
      <%= f.text_field :first_name, disabled: true, class: "form-input w-full" %>
    </label>
      <label class="w-3/12 mr-2">
      <div class="form-question">Middle Initial</div>
      <%= f.text_field :middle_initial, disabled: true, class: "form-input w-full" %>
    </label>
  
  </div>
  <div class="w-1/2 flex">
    <label class="w-1/2">
      <div class="form-question">Last Name</div>
      <%= f.text_field :last_name, disabled: true, class: "w-11/12 form-input" %>
    </label>
    <label class="w-1/2">
      <div class="form-question">Mother's Maiden Name</div>
      <%= f.text_field :mothers_maiden_name, class: "form-input w-full" %>
    </label>
  </div>
</div>

<div class="flex mb-4">
  <label class="w-3/12 mr-2">
      <div class="form-question">Address</div>
      <%= f.text_field :address, id: "autocomplete", class: "form-input w-full" %>
      <%= render partial: "public/clinics/google_maps_script" %>
  </label>
  <label class="w-3/12 mr-2">
    <div class="form-question">City</div>
    <%= f.text_field :city, class: "form-input w-full" %>
  </label>
  <label class="w-3/12 mr-2">
    <div class="form-question">State</div>
    <%= f.select :state, options_for_select(US_STATES, @patient.state), {}, class: "form-select w-full" %>
  </label>
  <label class="w-3/12">
    <div class="form-question">Zip Code</div>
    <%= f.text_field :zip_code, class: "form-input w-full" %>
  </label>
  
  
  
  
</div>



<div class="flex mb-4">
  <div class="w-1/2 flex mr-2">
    <label class="w-5/12 mr-1">
      <div class="form-question">Date Of Birth</div>
      <%= f.date_field :date_of_birth, placeholder: "MM/DD/YYYY", onChange:"calculateAge();", class: "w-12/12 form-input" %>
    </label>
    <label class="w-4/12 mr-1">
      <div class="form-question">Age</div>
      <%= f.text_field :age, class: "w-10/12 form-input" %>
    </label>
    <label class="w-3/12">
      <div class="form-question">Gender</div>
      <%= f.select :sex, [["Male", "M"], ["Female", "F"], ["Other", "O"]], {}, class: "form-select w-full" %>
    </label>
  </div>
  
  <label class="w-3/12 mr-2">
    <div class="form-question">Race</div>
    <%= f.select :state, options_for_select(US_RACES, @patient.state), {}, class: "form-select w-full" %>
  </label>

  <label class="w-3/12">
    <div class="form-question">Occupation</div>
    <%= f.select :state, options_for_select(PATIENT_OCCUPATIONS, @patient.occupation), {}, class: "form-select w-full" %>
  </label>
  
</div>

<div class="flex mb-4">
  <div class="w-1/2 mr-4">
    <label>
      <div class="form-question">Email Address</div>
      <%= f.text_field :email, disabled: true, class: "form-input w-full" %>
    </label>
  </div>
  <div class="w-1/2">
    <label>
      <div class="form-question">Mobile or Daytime Number</div>
      <%= f.text_field :phone_number, class: "form-input w-full" %>
    </label>
  </div>
</div>

<script>
    function calculateAge() {
        var patientAge = document.getElementById("patient_age");
        var patientDOB = document.getElementById("patient_date_of_birth");

        dob = new Date(patientDOB.value);
        var today = new Date();
        var age = Math.floor((today-dob) / (365.25 * 24 * 60 * 60 * 1000));

        patientAge.value = age.toString();
    }
</script>
<%= f.hidden_field :clinic_id, value: session[:clinic_id] %>
<%= hidden_field_tag :next_step, "health_insurance" %>
